<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>캡슐화2</title>
 
</head>
<body>
  <script>
    //즉시실행 함수를 사용하여 Person생성자함수와 Person.prototype.sayHi메서드를 하나의 함수 내에 모아 준다.
    const Person = (function(){
      let _age = 0; //private

      //생성자 함수
      function Person(name, age){
        this.name = name; //public
        _age = age;
      }

      //프로토타입 메서드
      Person.prototype.sayHi = function(){
        console.log(`Hi! My name is ${this.name}. I am ${_age}.`)
      }

      //생성자 함수를 반환
      return Person;
    }())

    const me = new Person('Lee', 20);
    me.sayHi();
    console.log(me.name)
    console.log(me._age)

    const you = new Person('Kim', 30);
    //_age 변수 값이 변경된다.(자바스크립트는 정보 은닉을 완전하게 지원하지 않는다.)
    me.sayHi(); // Hi! My name is Lee. I am 30
  </script>
</body>
</html>